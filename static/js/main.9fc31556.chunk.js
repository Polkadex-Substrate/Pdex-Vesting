(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{12:function(e,t,n){e.exports=n(22)},17:function(e,t,n){},19:function(e){e.exports=JSON.parse("{}")},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(5),o=n.n(r),i=(n(17),n(1)),l=n.n(i),u=n(2),c=n(6),p=n(7),d=n(10),y=n(8),m=n(11),b=(n(19),n(3)),w=n.n(b),f=function(){return new Promise((function(e,t){window.addEventListener("load",Object(u.a)(l.a.mark((function n(){var a,s,r,o;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.ethereum){n.next=13;break}return a=new w.a(window.ethereum),n.prev=2,n.next=5,window.ethereum.enable();case 5:e(a),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),t(n.t0);case 11:n.next=14;break;case 13:window.web3?(s=window.web3,console.log("Injected web3 detected."),e(s)):(r=new w.a.providers.WebsocketProvider("wss://mainnet.infura.io/v3/a59abf3cfde147728b1f64b13aa7410e"),o=new w.a(r),console.log("No web3 instance injected, using Local web3."),e(o));case 14:case"end":return n.stop()}}),n,null,[[2,8]])}))))}))},T=n(9),v=(n(21),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(s)))).state={loading:!1,contractAddress:null,userTokens:0,vestedTokens:0,totalSupply:0,owner:0,image:"/polkadex-second-tranche/Logo.png"},n.componentDidMount=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="0xF59ae934f6fe444afC309586cC60a84a0F89Aaea",e.next=4,f();case 4:return n.web3=e.sent,e.next=7,n.web3.eth.getAccounts();case 7:return n.accounts=e.sent,e.next=10,n.web3.eth.net.getId();case 10:n.networkId=e.sent,n.PolkaDexInstance=new n.web3.eth.Contract(T,t),n.listenToTokenTransfer(),n.setState({loading:!0,contractAddress:t},n.updateUserTokens),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),alert("Failed to load web3, accounts, or contract. Check console for details."),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,16]])}))),n.buttonClick=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.PolkaDexInstance.methods.VestedTokens(n.accounts[0]).call({from:n.accounts[0]});case 2:return e.sent,e.next=5,n.PolkaDexInstance.methods.ClaimAfterVesting().send({from:n.accounts[0]},(function(e,t){console.log(e,"err"),console.log(t,"data")}));case 5:t=e.sent,console.log(t,"claimVestedTokens");case 7:case"end":return e.stop()}}),e)}))),n.updateUserTokens=Object(u.a)(l.a.mark((function e(){var t,a,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.PolkaDexInstance.methods.ShowOwner().call();case 2:return t=e.sent,e.next=5,n.PolkaDexInstance.methods.totalSupply().call();case 5:return a=e.sent,e.next=8,n.PolkaDexInstance.methods.balanceOf(n.accounts[0]).call();case 8:return s=e.sent,e.next=11,n.PolkaDexInstance.methods.VestedTokens(n.accounts[0]).call();case 11:r=e.sent,n.setState({userTokens:s/Math.pow(10,18),vestedTokens:r/Math.pow(10,18),totalSupply:a/Math.pow(10,18),owner:t});case 13:case"end":return e.stop()}}),e)}))),n.listenToTokenTransfer=function(){n.PolkaDexInstance.events.Transfer({to:n.accounts[0]}).on("data",n.updateUserTokens)},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.state.loading?s.a.createElement("div",null,s.a.createElement("div",{className:"navBar"},s.a.createElement("img",{className:"logo",src:this.state.image})),s.a.createElement("div",{className:"cardContainer"},s.a.createElement("div",{className:"card"},s.a.createElement("p",null,"Contract Address: ",s.a.createElement("b",null,this.state.contractAddress)),s.a.createElement("p",null,"Total Supply: ",s.a.createElement("b",null,this.state.totalSupply)),s.a.createElement("p",null,"Vested Balance: ",s.a.createElement("b",null,this.state.vestedTokens)),s.a.createElement("p",null,"Current Balance: ",s.a.createElement("b",null,this.state.userTokens)),s.a.createElement("button",{type:"button",onClick:this.buttonClick,className:"vestedButton"},"Claim Vested Tokens")))):s.a.createElement("div",null,"Loading Web3, accounts, and contract...")}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"ClaimAfterVesting","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"ShowOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address payable","name":"NewAddress","type":"address"}],"name":"TransferOwnerShip","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"VestedTokens","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')}},[[12,1,2]]]);
//# sourceMappingURL=main.9fc31556.chunk.js.map